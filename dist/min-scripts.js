let pokemonRepository=function(){let t=[];const e="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(e){t.push(e)}function o(t){let e=$(".modal-body"),n=$(".modal-title");n.empty(),e.empty();let o=$("<p></p>"),i=$("<p></p>"),l=$("<img>"),p=[];a(t).then(function(){n.text(t.name),o.text(`Height: ${t.height}mm`),l.attr({src:t.artImageUrl,alt:`picture of ${t.name}`}),l.addClass("modal-image")}),Object.keys(t.types).forEach(e=>{p.push(" "+t.types[e].type.name)}),i.text(`Type(s):  ${p}`),e.append(l),e.append(o),e.append(i),$("input").val("")}function a(t){let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.artImageUrl=e.sprites.other["official-artwork"].front_default,t.height=e.height,t.types=e.types}).catch(function(t){console.error(t)})}return $("#search-button").on("pointerdown",function(){!function(e){let n=t.find(({name:t})=>t===e.toLowerCase());n?o(n):(alert(`${e} is not on my list.  Try again.`),$("input").val(""))}($("input").val())}),{add:n,getAll:function(){return t},addListItem:function(t){let e=$("#poke-list"),n=$("<li></li>"),i=$("<button></button>"),l=$("<img/>"),p=$("<p></p>");i.attr({type:"button","data-toggle":"modal","data-target":"#modal"}),a(t).then(function(){l.attr({src:`${t.imageUrl}`,alt:`picture of ${t.name}`}),p.text(t.name)}),i.addClass("poke-button btn btn-lg"),n.addClass("list-group-item"),n.addClass("col-xl-3 col-lg-4 col-md-5 col-sm-6 col-xs-10 align-items-center"),i.append(l),i.append(p),n.append(i),e.append(n),function(t,e){t.on("pointerdown",function(){o(e)})}(i,t)},loadList:function(){return fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){n({name:t.name,types:t.types,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
